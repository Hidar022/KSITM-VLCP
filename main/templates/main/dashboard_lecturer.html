{% extends 'main/base.html' %}
{% load static %}

{% block title %}Lecturer Dashboard - KSITM VLCP{% endblock %}

{% block content %}
{% with hide_footer=True %}
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

<div class="dashboard-wrapper">

    <!-- Floating shapes -->
    <div class="floating-shape" style="width:150px;height:150px;background:#F58634;top:50px;left:50px;"></div>
    <div class="floating-shape" style="width:100px;height:100px;background:#ff9126;bottom:80px;right:40px;"></div>

    <div class="main-content" data-aos="fade-up">
        <h2 class="page-title">Welcome, {{ request.user.username }} ðŸ‘‹</h2>
        <p>Your lecturer dashboard is ready.</p>

        <!-- Top Navigation Tabs -->
        <div class="top-nav" data-aos="fade-up" data-aos-delay="200">
            <a href="{% url 'lecturer_courses' %}" class="{% if section|default:'' == 'courses' %}active{% endif %}">ðŸ“š Courses</a>
            <a href="{% url 'lecturer_results' %}" class="{% if section|default:'' == 'results' %}active{% endif %}">ðŸ“„ Results</a>
            <a href="{% url 'lecturer_chat' %}" class="{% if section|default:'' == 'chat' %}active{% endif %}">ðŸ’¬ Chat</a>
            <a href="{% url 'profile' %}" class="{% if section|default:'' == 'profile' %}active{% endif %}">ðŸ‘¤ Profile</a>
        </div>

        <!-- Top Cards -->
        <div class="card-grid">
            <div class="card" data-aos="fade-up">
                <h5>Courses Taught</h5>
                <p class="display-6">{{ courses|length }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="100">
                <h5>Assignments to Grade</h5>
                <p class="display-6">{{ pending_assignments|length }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="200">
                <h5>Students</h5>
                <p class="display-6">{{ students_count }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="300">
                <h5>Notifications</h5>
                <p class="display-6">{{ notifications_count }}</p>
            </div>
        </div>

        <!-- Section Content -->
        <div class="section-content" data-aos="fade-up" data-aos-delay="400">
            {% if section == 'courses' %}
                {% include 'main/lecturer_courses_section.html' %}
            {% elif section == 'assignments' %}
                {% include 'main/lecturer_assignments_section.html' %}
            {% elif section == 'results' %}
                {% include 'main/lecturer_results_section.html' %}
            {% elif section == 'profile' %}
                {% include 'main/profile_section.html' %}
            {% elif section == 'chat' %}
                {% include 'main/lecturer_chat_section.html' %}
            {% else %}
                <p>Select a section above to view details.</p>
            {% endif %}
        </div>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({ duration: 800, easing: 'ease-in-out', once: false });
</script>
{% endwith %}
{% endblock %}
