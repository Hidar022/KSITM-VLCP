{% extends 'main/base.html' %}
{% load static %}

{% block title %}Lecturer Dashboard - KSITM VLCP{% endblock %}

{% block content %}
{% with hide_footer=True %}
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
<style>
    body {
        background: #0f172a;
        font-family: 'Poppins', sans-serif;
        color: white;
    }

    .dashboard-wrapper {
        padding-top: 80px;
        position: relative;
        overflow: hidden;
        min-height: 100vh;
    }

    /* Floating shapes */
    .floating-shape {
        position: absolute;
        border-radius: 50%;
        opacity: 0.15;
        animation: float 20s linear infinite;
    }

    @keyframes float {
        0% { transform: translateY(0) translateX(0); }
        50% { transform: translateY(-50px) translateX(30px); }
        100% { transform: translateY(0) translateX(0); }
    }

    .main-content {
        margin-left: 0;
        padding: 35px 20px;
        width: 100%;
    }

    .page-title {
        font-size: 28px;
        font-weight: 600;
        margin-bottom: 15px;
        text-shadow: 0 0 6px rgba(255,255,255,0.4);
    }

    /* Top Navigation Tabs */
    .top-nav {
        display: flex;
        gap: 15px;
        margin-bottom: 25px;
    }

    .top-nav a {
        text-decoration: none;
        color: white;
        padding: 8px 16px;
        border-radius: 8px;
        transition: 0.3s;
        font-weight: 500;
        background: rgba(255,255,255,0.05);
    }

    .top-nav a.active {
        background: linear-gradient(90deg, #2563eb, #4f46e5);
        box-shadow: 0 6px 12px rgba(37,99,235,0.5);
    }

    .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 22px;
        margin-top: 25px;
    }

    .card {
        background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.1));
        padding: 22px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.15);
        text-align: center;
        transition: all 0.3s ease;
        color: white;
        font-weight: 500;
        backdrop-filter: blur(8px);
    }

    .card:hover {
        background: linear-gradient(145deg, rgba(37,99,235,0.2), rgba(79,70,229,0.2));
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 12px 20px rgba(37,99,235,0.4);
    }
</style>

<div class="dashboard-wrapper">

    <!-- Floating shapes -->
    <div class="floating-shape" style="width:150px;height:150px;background:#2563eb;top:50px;left:50px;"></div>
    <div class="floating-shape" style="width:100px;height:100px;background:#4f46e5;bottom:80px;right:40px;"></div>

    <div class="main-content" data-aos="fade-up">
        <h2 class="page-title">Welcome, {{ request.user.username }} ðŸ‘‹</h2>
        <p>Your lecturer dashboard is ready.</p>

        <!-- Top Navigation Tabs -->
        <div class="top-nav" data-aos="fade-up" data-aos-delay="200">
        <a href="{% url 'lecturer_courses' %}" class="{% if section|default:'' == 'courses' %}active{% endif %}">ðŸ“š Courses</a>
        <a href="{% url 'lecturer_results' %}" class="{% if section|default:'' == 'results' %}active{% endif %}">ðŸ“„ Results</a>
        <a href="{% url 'lecturer_chat' %}" class="{% if section|default:'' == 'chat' %}active{% endif %}">ðŸ’¬ Chat</a>
        <a href="{% url 'profile' %}" class="{% if section|default:'' == 'profile' %}active{% endif %}">ðŸ‘¤ Profile</a>
    </div>


        <!-- Top Cards -->
        <div class="card-grid">
            <div class="card" data-aos="fade-up">
                <h5>Courses Taught</h5>
                <p class="display-6">{{ courses|length }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="100">
                <h5>Assignments to Grade</h5>
                <p class="display-6">{{ pending_assignments|length }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="200">
                <h5>Students</h5>
                <p class="display-6">{{ students_count }}</p>
            </div>
            <div class="card" data-aos="fade-up" data-aos-delay="300">
                <h5>Notifications</h5>
                <p class="display-6">{{ notifications_count }}</p>
            </div>
        </div>

        <!-- Section Content -->
        <div class="section-content" data-aos="fade-up" data-aos-delay="400">
            {% if section == 'courses' %}
                {% include 'main/lecturer_courses_section.html' %}
            {% elif section == 'assignments' %}
                {% include 'main/lecturer_assignments_section.html' %}
            {% elif section == 'results' %}
                {% include 'main/lecturer_results_section.html' %}
            {% elif section == 'profile' %}
                {% include 'main/profile_section.html' %}
            {% elif section == 'chat' %}
                {% include 'main/lecturer_chat_section.html' %}
            {% else %}
                <p>Select a section above to view details.</p>
            {% endif %}
        </div>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({ duration: 800, easing: 'ease-in-out', once: false });
</script>
{% endwith %}
{% endblock %}
