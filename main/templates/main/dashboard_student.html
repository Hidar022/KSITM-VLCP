{% extends 'main/base.html' %}
{% load static %}

{% block title %}Student Dashboard - KSITM VLCP{% endblock %}

{% block content %}
{% with hide_footer=True %}
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

<div class="dashboard-wrapper">

    <!-- Floating shapes -->
    <div class="floating-shape" style="width:150px;height:150px;background:#F58634;top:50px;left:50px;"></div>
    <div class="floating-shape" style="width:100px;height:100px;background:#ff9126;bottom:80px;right:40px;"></div>

    <!-- Welcome Message -->
    <h2 class="page-title" data-aos="fade-down">Welcome, {{ request.user.username }} ğŸ‘‹</h2>

    <!-- Top Navigation Tabs -->
    <div class="top-nav" data-aos="fade-up" data-aos-delay="200">
        <a href="{% url 'courses' %}" class="{% if request.path == '/courses/' %}active{% endif %}">ğŸ“š Courses</a>
        <a href="{% url 'assignments' %}" class="{% if request.path == '/assignments/' %}active{% endif %}">ğŸ“ Assignments</a>
        <a href="{% url 'dashboard' %}" class="{% if request.path == '/dashboard/' %}active{% endif %}">ğŸ“„ Results</a>
        <a href="{% url 'profile' %}" class="{% if request.path == '/profile/' %}active{% endif %}">ğŸ‘¤ Profile</a>
        <a href="{% url 'chat' user_id=request.user.id %}" class="{% if '/chat/' in request.path %}active{% endif %}">ğŸ’¬ Chat</a>
    </div>

    <!-- Courses Grid -->
    <div class="card-grid" data-aos="fade-up" data-aos-delay="300">
        {% if courses %}
            {% for course in courses %}
                <div class="card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'50' }}">
                    <h5>{{ course.title }}</h5>
                    <p class="small">{{ course.department }}</p>
                    <p>{{ course.description|truncatechars:120 }}</p>
                    <a href="{% url 'course_detail' course.id %}" class="btn btn-light mt-3">Open</a>
                </div>
            {% endfor %}
        {% else %}
            <div class="card">
                <p>No courses available yet.</p>
            </div>
        {% endif %}
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({ duration: 800, easing: 'ease-in-out', once: false });
</script>
{% endwith %}
{% endblock %}
